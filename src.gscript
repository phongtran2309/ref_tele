{"$type":"GPMAutomateEditor.Models.Editor, GPMAutomateEditor.Models","before_init":{"$type":"GPMAutomateEditor.Models.NormalBlockNode, GPMAutomateEditor.Models","nodes":[{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":1,"element_xpath":null,"output_variable_name":"channel","delay":"0,0","id":"fd0b8ecb-ecf4-40c8-89d4-10a6c92b2afd","display_text":null,"raw_input":"[{\"Key\":\"VALUE\",\"Value\":\"ae5k2\"},{\"Key\":\"ALLOW_USER_INPUT\",\"Value\":\"False\"},{\"Key\":\"USER_INPUT_TYPE\",\"Value\":\"Text\"}]","comment":"Nhập channel"},{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":1,"element_xpath":null,"output_variable_name":"botId","delay":"0,0","id":"6a318a1b-5f58-463d-887d-9f6f5fe7523e","display_text":null,"raw_input":"[{\"Key\":\"VALUE\",\"Value\":\"\"},{\"Key\":\"ALLOW_USER_INPUT\",\"Value\":\"True\"}]","comment":"Nhập bot_id"},{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":1,"element_xpath":null,"output_variable_name":"fileName","delay":"0,0","id":"c0cbb45f-1354-4a95-9082-5e398ad27cf5","display_text":null,"raw_input":"[{\"Key\":\"VALUE\",\"Value\":\"\"},{\"Key\":\"ALLOW_USER_INPUT\",\"Value\":\"True\"},{\"Key\":\"USER_INPUT_TYPE\",\"Value\":\"Text\"}]","comment":"Nhập tên file data excel"},{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":1,"element_xpath":null,"output_variable_name":"filePath","delay":"0,0","id":"28db65ba-8b9d-4d39-b020-9476b4689b75","display_text":null,"raw_input":"[{\"Key\":\"VALUE\",\"Value\":\"\"},{\"Key\":\"ALLOW_USER_INPUT\",\"Value\":\"True\"},{\"Key\":\"USER_INPUT_TYPE\",\"Value\":\"Text\"}]","comment":"Nhập đường dẫn thư mục lưu file"}],"expanded":true,"id":"2d9442c7-3f5c-4259-a871-e68c0b520ff6","display_text":null,"raw_input":null,"comment":"Before browser opened"},"main_logic":{"$type":"GPMAutomateEditor.Models.NormalBlockNode, GPMAutomateEditor.Models","nodes":[{"$type":"GPMAutomateEditor.Models.NormalBlockNode, GPMAutomateEditor.Models","nodes":[{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":39,"element_xpath":null,"output_variable_name":null,"delay":"0,0","id":"afcb1f0e-35bd-40b1-b5f8-f15d1c790f02","display_text":null,"raw_input":"[{\"Key\":\"URL\",\"Value\":\"https://web.telegram.org/k/#@$channel\"}]","comment":""},{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":44,"element_xpath":"//*[@class='chatlist' or @class=\"qr-description\"]","output_variable_name":null,"delay":"0,0","id":"917cd93e-2c4e-4f15-91d4-c88545da898c","display_text":null,"raw_input":"[{\"Key\":\"TIME_OUT\",\"Value\":\"30\"}]","comment":"Chờ QR hoặc List chat"},{"$type":"GPMAutomateEditor.Models.IfBlockNode, GPMAutomateEditor.Models","nodes":[{"$type":"GPMAutomateEditor.Models.IfBlockNode, GPMAutomateEditor.Models","nodes":[{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":29,"element_xpath":null,"output_variable_name":"gr","delay":"0,0","id":"8ec5a649-992a-4b35-a0ef-a1c013517a48","display_text":null,"raw_input":"[{\"Key\":\"URL\",\"Value\":\"http://127.0.0.1:19995/api/v3/profiles/update/$profileId\"},{\"Key\":\"METHOD\",\"Value\":\"POST\"},{\"Key\":\"HEADER\",\"Value\":\"\"},{\"Key\":\"DATA\",\"Value\":\"{\\\"group_id\\\" : 2}     \\r\\n\"},{\"Key\":\"USE_PROFILE_PROXY\",\"Value\":\"False\"}]","comment":"Thêm vào group Die số 2"},{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":68,"element_xpath":null,"output_variable_name":"javascript","delay":"0,0","id":"8ef58bf7-a0a0-4de5-9d8b-67299bb404ba","display_text":null,"raw_input":"[{\"Key\":\"FILE_OR_CODE\",\"Value\":\"throw new Error('Tài khoản không khả dụng');\"}]","comment":"Tài khoản không khả dụng"}],"expanded":false,"id":"4a009c5f-018e-4fd6-8eaf-e2b58b5a6fc9","display_text":null,"raw_input":"[{\"Key\":\"CONDITION\",\"Value\":\"hasElement(//*[@class='qr-description'])\"}]","comment":"Nếu bị văng..."},{"$type":"GPMAutomateEditor.Models.ElseBlockNode, GPMAutomateEditor.Models","nodes":[{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":29,"element_xpath":null,"output_variable_name":"gr","delay":"0,0","id":"516fd9a2-1085-4a9c-b554-0ed5a6b4db7f","display_text":null,"raw_input":"[{\"Key\":\"URL\",\"Value\":\"http://127.0.0.1:19995/api/v3/profiles/update/$profileId\"},{\"Key\":\"METHOD\",\"Value\":\"POST\"},{\"Key\":\"HEADER\",\"Value\":\"\"},{\"Key\":\"DATA\",\"Value\":\"{\\\"group_id\\\" : 3}     \\r\\n\"},{\"Key\":\"USE_PROFILE_PROXY\",\"Value\":\"False\"}]","comment":"Thêm vào group lỗi index 3"},{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":68,"element_xpath":null,"output_variable_name":"javascript","delay":"0,0","id":"1a8169fe-47c7-4940-aeb2-359877bdefaf","display_text":null,"raw_input":"[{\"Key\":\"FILE_OR_CODE\",\"Value\":\"throw new Error('Tài khoản không khả dụng');\"}]","comment":"Tài khoản không khả dụng"}],"expanded":true,"id":"a45ded9e-61c7-40a5-b7d3-29be2257fa67","display_text":null,"raw_input":"[]","comment":"Lỗi khác"}],"expanded":true,"id":"ead83ba1-d6b1-4336-a186-d50f7472849e","display_text":null,"raw_input":"[{\"Key\":\"CONDITION\",\"Value\":\"!hasElement(//ul[@class='chatlist'])\"}]","comment":"Nếu không tồn tại chatlist"},{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":44,"element_xpath":"//div[contains(@class,'bubbles-group')]//a[contains(@href,'$botId')]","output_variable_name":null,"delay":"0,0","id":"204c9546-52eb-4168-9fb4-98df619282c0","display_text":null,"raw_input":"[{\"Key\":\"TIME_OUT\",\"Value\":\"10\"}]","comment":"Chờ link"},{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":48,"element_xpath":null,"output_variable_name":null,"delay":"0,0","id":"eb79617c-43e4-490d-bb9c-f5595d336880","display_text":null,"raw_input":"[{\"Key\":\"CLICK_TYPE\",\"Value\":\"CLICK_XPATH\"},{\"Key\":\"XPATH\",\"Value\":\"//div[contains(@class,'bubbles-group')]//a[contains(@href,'$botId')]\"},{\"Key\":\"POS\",\"Value\":\"\"}]","comment":null},{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":44,"element_xpath":"//*[contains(@class, 'popup-confirmation') or contains(@class, 'payment-verification')]","output_variable_name":null,"delay":"0,0","id":"aec5ab32-4749-4d30-8750-582faed88c61","display_text":null,"raw_input":"[{\"Key\":\"TIME_OUT\",\"Value\":\"5\"}]","comment":"Chờ load popup hoặc game"},{"$type":"GPMAutomateEditor.Models.IfBlockNode, GPMAutomateEditor.Models","nodes":[{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":41,"element_xpath":null,"output_variable_name":null,"delay":"0,0","id":"b63dc2e6-d8ea-4f5a-88d3-c0e9ea7a2eac","display_text":null,"raw_input":null,"comment":null},{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":48,"element_xpath":null,"output_variable_name":null,"delay":"0,0","id":"3ea4f5f2-1757-4050-bdf9-b9470899a8bf","display_text":null,"raw_input":"[{\"Key\":\"CLICK_TYPE\",\"Value\":\"CLICK_XPATH\"},{\"Key\":\"XPATH\",\"Value\":\"//div[contains(@class,'bubbles-group')]//a[contains(@href,'$botId')]\"},{\"Key\":\"POS\",\"Value\":\"\"}]","comment":null},{"$type":"GPMAutomateEditor.Models.ForBlockNode, GPMAutomateEditor.Models","nodes":[{"$type":"GPMAutomateEditor.Models.IfBlockNode, GPMAutomateEditor.Models","nodes":[{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":48,"element_xpath":null,"output_variable_name":null,"delay":"0,0","id":"05dd5e38-27c6-45da-9704-0b34fcc0aeaa","display_text":null,"raw_input":"[{\"Key\":\"CLICK_TYPE\",\"Value\":\"CLICK_XPATH\"},{\"Key\":\"XPATH\",\"Value\":\"//span[text()='Launch']\"},{\"Key\":\"POS\",\"Value\":\"\"}]","comment":null},{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":44,"element_xpath":"//iframe[contains(@src,'https')]","output_variable_name":null,"delay":"0,0","id":"9fa5fc48-78e5-4542-8425-c18f9afa59ca","display_text":null,"raw_input":"[{\"Key\":\"TIME_OUT\",\"Value\":\"10\"}]","comment":""}],"expanded":false,"id":"f8d4e82d-4808-48ec-9a2f-4dd8c6a4fcc7","display_text":null,"raw_input":"[{\"Key\":\"CONDITION\",\"Value\":\"hasElement(//span[text()='Launch'])\"}]","comment":null},{"$type":"GPMAutomateEditor.Models.IfBlockNode, GPMAutomateEditor.Models","nodes":[{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":5,"element_xpath":null,"output_variable_name":null,"delay":"0,0","id":"0276717f-811c-4b4b-bc6d-aa27df7de2ae","display_text":null,"raw_input":null,"comment":null}],"expanded":false,"id":"810391b6-8156-433b-9371-ba6b58bf6fb0","display_text":null,"raw_input":"[{\"Key\":\"CONDITION\",\"Value\":\"hasElement(//iframe[contains(@src,'https')])\"}]","comment":null},{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":7,"element_xpath":null,"output_variable_name":null,"delay":"0,0","id":"ee791c70-8307-4dcc-8ab5-4c32f1486962","display_text":null,"raw_input":"[{\"Key\":\"MIN\",\"Value\":\"2000\"},{\"Key\":\"MAX\",\"Value\":\"2100\"}]","comment":null}],"expanded":true,"id":"033b3aae-6f6b-4a0d-9639-a6d26804e98f","display_text":null,"raw_input":"[{\"Key\":\"START\",\"Value\":\"0\"},{\"Key\":\"END\",\"Value\":\"10\"},{\"Key\":\"INCREASE_BY\",\"Value\":\"1\"}]","comment":null}],"expanded":false,"id":"60e35a17-4044-47ad-9585-c524fc26ce6a","display_text":null,"raw_input":"[{\"Key\":\"CONDITION\",\"Value\":\"!hasElement(//*[contains(@class, 'popup-confirmation') or contains(@class, 'payment-verification')])\"}]","comment":"Nếu bật không lên popup hoặc game"}],"expanded":true,"id":"80e58a70-312a-44be-8c3d-b1bad3b38340","display_text":null,"raw_input":"[]","comment":"Main Ref"},{"$type":"GPMAutomateEditor.Models.NormalBlockNode, GPMAutomateEditor.Models","nodes":[{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":45,"element_xpath":"//iframe[@class=\"payment-verification\"]","output_variable_name":"src","delay":"0,0","id":"53ab3501-e730-47e2-a30f-af5b71308fbb","display_text":null,"raw_input":"[{\"Key\":\"ATTR_NAME\",\"Value\":\"src\"}]","comment":"Lấy src "},{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":68,"element_xpath":null,"output_variable_name":"querry_id","delay":"0,0","id":"516216fe-0d3e-44c8-a6eb-c99f0d954dab","display_text":null,"raw_input":"[{\"Key\":\"FILE_OR_CODE\",\"Value\":\"const game = document.querySelector('iframe'); const src = game.getAttribute('src'); const startIndex = src.indexOf('#tgWebAppData=') + '#tgWebAppData='.length; const endIndex = src.indexOf('&', startIndex); const query_id = src.substring(startIndex, endIndex); return decodeURIComponent(query_id)\"}]","comment":"Lấy querry_id"}],"expanded":false,"id":"7499a8f5-1f8e-48f1-a504-e6c3d4ed9fb8","display_text":null,"raw_input":"[]","comment":"Lấy Data"}],"expanded":false,"id":"7047add4-cc3a-49e0-bfbd-79319054f10b","display_text":null,"raw_input":null,"comment":"Main logic"},"after_quit":{"$type":"GPMAutomateEditor.Models.NormalBlockNode, GPMAutomateEditor.Models","nodes":[{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":74,"element_xpath":null,"output_variable_name":null,"delay":"0,0","id":"9f1fbfdb-162d-4b56-95aa-d52672ef53f7","display_text":null,"raw_input":"[{\"Key\":\"FILE_PATH\",\"Value\":\"$filePath\\\\$fileName.xlsx\"}]","comment":"Tạo file excel"},{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":71,"element_xpath":null,"output_variable_name":null,"delay":"0,0","id":"2cb9ee4d-7416-447f-920f-503c31c3d3ca","display_text":null,"raw_input":"[{\"Key\":\"FILE_PATH\",\"Value\":\"$filePath\\\\$fileName.xlsx\"},{\"Key\":\"SHEET_ID\",\"Value\":\"0\"},{\"Key\":\"COL_NAME_OR_INDEX\",\"Value\":\"A\"},{\"Key\":\"DATA\",\"Value\":\"$profileName|$src|$querry_id\"}]","comment":"Ghi Data"}],"expanded":true,"id":"865fcbe2-b7e8-45c6-9e63-934ec2f18b68","display_text":null,"raw_input":null,"comment":"After browser closed"}}