{"$type":"GPMAutomateEditor.Models.Editor, GPMAutomateEditor.Models","before_init":{"$type":"GPMAutomateEditor.Models.NormalBlockNode, GPMAutomateEditor.Models","nodes":[{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":1,"element_xpath":null,"output_variable_name":"channel","delay":"0,0","id":"888c0c04-3b21-4643-86ee-f62900ae6ffe","display_text":null,"raw_input":"[{\"Key\":\"VALUE\",\"Value\":\"ae5k2\"},{\"Key\":\"ALLOW_USER_INPUT\",\"Value\":\"False\"},{\"Key\":\"USER_INPUT_TYPE\",\"Value\":\"Text\"}]","comment":"Nhập channel"},{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":1,"element_xpath":null,"output_variable_name":"botId","delay":"0,0","id":"c33d85d3-58da-4236-9852-641c50970d06","display_text":null,"raw_input":"[{\"Key\":\"VALUE\",\"Value\":\"\"},{\"Key\":\"ALLOW_USER_INPUT\",\"Value\":\"True\"}]","comment":"Nhập bot_id"},{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":1,"element_xpath":null,"output_variable_name":"fileName","delay":"0,0","id":"624d5c75-e5e4-45d6-b6d3-01b796052b84","display_text":null,"raw_input":"[{\"Key\":\"VALUE\",\"Value\":\"\"},{\"Key\":\"ALLOW_USER_INPUT\",\"Value\":\"True\"},{\"Key\":\"USER_INPUT_TYPE\",\"Value\":\"Text\"}]","comment":"Nhập tên file data excel"},{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":1,"element_xpath":null,"output_variable_name":"filePath","delay":"0,0","id":"a8bf7f43-968e-4d45-b31f-e2312969eebb","display_text":null,"raw_input":"[{\"Key\":\"VALUE\",\"Value\":\"\"},{\"Key\":\"ALLOW_USER_INPUT\",\"Value\":\"True\"},{\"Key\":\"USER_INPUT_TYPE\",\"Value\":\"Text\"}]","comment":"Nhập đường dẫn thư mục lưu file"},{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":1,"element_xpath":null,"output_variable_name":"grIndex","delay":"0,0","id":"da5cba87-9f31-42e6-b10e-67ecaa155adb","display_text":null,"raw_input":"[{\"Key\":\"VALUE\",\"Value\":\"\"},{\"Key\":\"ALLOW_USER_INPUT\",\"Value\":\"True\"},{\"Key\":\"USER_INPUT_TYPE\",\"Value\":\"Text\"}]","comment":"Nhập index group lưu lỗi"}],"expanded":true,"id":"0579dc9b-91e9-4ba2-85d6-6eddaccaa7f4","display_text":null,"raw_input":null,"comment":"Before browser opened"},"main_logic":{"$type":"GPMAutomateEditor.Models.NormalBlockNode, GPMAutomateEditor.Models","nodes":[{"$type":"GPMAutomateEditor.Models.NormalBlockNode, GPMAutomateEditor.Models","nodes":[{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":44,"element_xpath":"//*[@class='chatlist' or @class=\"qr-description\"]","output_variable_name":null,"delay":"0,0","id":"5bbcdcb8-cfe4-4dbe-8f67-4fb7016a8e66","display_text":null,"raw_input":"[{\"Key\":\"TIME_OUT\",\"Value\":\"30\"}]","comment":"Chờ QR hoặc List chat"},{"$type":"GPMAutomateEditor.Models.IfBlockNode, GPMAutomateEditor.Models","nodes":[{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":68,"element_xpath":null,"output_variable_name":"javascript","delay":"0,0","id":"a914a2e0-40c1-4686-b655-aafb31a3c337","display_text":null,"raw_input":"[{\"Key\":\"FILE_OR_CODE\",\"Value\":\"throw new Error('Tài khoản không khả dụng');\"}]","comment":"Tài khoản không khả dụng"},{"$type":"GPMAutomateEditor.Models.IfBlockNode, GPMAutomateEditor.Models","nodes":[{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":29,"element_xpath":null,"output_variable_name":"gr","delay":"0,0","id":"f8764a89-543c-4df2-89e1-ebe03ec2fbce","display_text":null,"raw_input":"[{\"Key\":\"URL\",\"Value\":\"http://127.0.0.1:19995/api/v3/profiles/update/$profileId\"},{\"Key\":\"METHOD\",\"Value\":\"GET\"},{\"Key\":\"HEADER\",\"Value\":\"\"},{\"Key\":\"DATA\",\"Value\":\"{\\\"group_id\\\" : $index}     \\r\\n\"},{\"Key\":\"USE_PROFILE_PROXY\",\"Value\":\"False\"}]","comment":"Tài khoản văng"}],"expanded":false,"id":"a293f4bc-05b2-48a7-9c0e-04214ef3a31f","display_text":null,"raw_input":"[{\"Key\":\"CONDITION\",\"Value\":\"hasElement(//ul[@class='qr-description'])\"}]","comment":"Nếu hiện QR login"}],"expanded":true,"id":"d58e27eb-025b-4863-956d-06ed3ad61843","display_text":null,"raw_input":"[{\"Key\":\"CONDITION\",\"Value\":\"!hasElement(//ul[@class='chatlist'])\"}]","comment":"Nếu không tồn tại chatlist"},{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":44,"element_xpath":"//div[contains(@class,'bubbles-group')]//a[contains(@href,'$botId')]","output_variable_name":null,"delay":"0,0","id":"cad2475c-cd68-4de1-bef1-1f6508f82ecd","display_text":null,"raw_input":"[{\"Key\":\"TIME_OUT\",\"Value\":\"10\"}]","comment":"Chờ link"},{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":48,"element_xpath":null,"output_variable_name":null,"delay":"0,0","id":"d279467c-d240-486e-af18-36c077765682","display_text":null,"raw_input":"[{\"Key\":\"CLICK_TYPE\",\"Value\":\"CLICK_XPATH\"},{\"Key\":\"XPATH\",\"Value\":\"//div[contains(@class,'bubbles-group')]//a[contains(@href,'$botId')]\"},{\"Key\":\"POS\",\"Value\":\"\"}]","comment":null},{"$type":"GPMAutomateEditor.Models.ForBlockNode, GPMAutomateEditor.Models","nodes":[{"$type":"GPMAutomateEditor.Models.IfBlockNode, GPMAutomateEditor.Models","nodes":[{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":48,"element_xpath":null,"output_variable_name":null,"delay":"0,0","id":"da8da9b5-6277-4737-b68d-931a6c92a979","display_text":null,"raw_input":"[{\"Key\":\"CLICK_TYPE\",\"Value\":\"CLICK_XPATH\"},{\"Key\":\"XPATH\",\"Value\":\"//span[text()='Launch']\"},{\"Key\":\"POS\",\"Value\":\"\"}]","comment":null},{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":44,"element_xpath":"//iframe[contains(@src,'https')]","output_variable_name":null,"delay":"0,0","id":"f898ac0d-9904-4b88-b495-ef56310af4c2","display_text":null,"raw_input":"[{\"Key\":\"TIME_OUT\",\"Value\":\"10\"}]","comment":""}],"expanded":true,"id":"bb0eb78f-c9b4-482b-aee9-a56e7a4d921c","display_text":null,"raw_input":"[{\"Key\":\"CONDITION\",\"Value\":\"hasElement(//span[text()='Launch'])\"}]","comment":null},{"$type":"GPMAutomateEditor.Models.IfBlockNode, GPMAutomateEditor.Models","nodes":[{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":5,"element_xpath":null,"output_variable_name":null,"delay":"0,0","id":"40100843-6509-4ada-8b86-8e990d525256","display_text":null,"raw_input":null,"comment":null}],"expanded":true,"id":"b201079a-e9d6-43b1-979b-bb117657e1e2","display_text":null,"raw_input":"[{\"Key\":\"CONDITION\",\"Value\":\"hasElement(//iframe[contains(@src,'https')])\"}]","comment":null},{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":7,"element_xpath":null,"output_variable_name":null,"delay":"0,0","id":"b091c2d6-b2da-4982-bc65-c90d50809188","display_text":null,"raw_input":"[{\"Key\":\"MIN\",\"Value\":\"2000\"},{\"Key\":\"MAX\",\"Value\":\"2100\"}]","comment":null}],"expanded":false,"id":"acb9b69a-0af5-477f-8289-4701b0080fdd","display_text":null,"raw_input":"[{\"Key\":\"START\",\"Value\":\"0\"},{\"Key\":\"END\",\"Value\":\"5\"},{\"Key\":\"INCREASE_BY\",\"Value\":\"1\"}]","comment":null},{"$type":"GPMAutomateEditor.Models.IfBlockNode, GPMAutomateEditor.Models","nodes":[{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":39,"element_xpath":null,"output_variable_name":null,"delay":"0,0","id":"99b7eb1c-98d8-45be-b303-5ddb7acaa97a","display_text":null,"raw_input":"[{\"Key\":\"URL\",\"Value\":\"https://web.telegram.org/k/#@$channel\"}]","comment":""},{"$type":"GPMAutomateEditor.Models.ForBlockNode, GPMAutomateEditor.Models","nodes":[{"$type":"GPMAutomateEditor.Models.IfBlockNode, GPMAutomateEditor.Models","nodes":[{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":48,"element_xpath":null,"output_variable_name":null,"delay":"0,0","id":"6564bf92-e330-4fcf-826d-d0ab5f7da8b2","display_text":null,"raw_input":"[{\"Key\":\"CLICK_TYPE\",\"Value\":\"CLICK_XPATH\"},{\"Key\":\"XPATH\",\"Value\":\"//span[text()='Launch']\"},{\"Key\":\"POS\",\"Value\":\"\"}]","comment":null},{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":44,"element_xpath":"//iframe[contains(@src,'https')]","output_variable_name":null,"delay":"0,0","id":"b3e5e6a3-3c6c-40f9-ad5c-7a3b7f95053b","display_text":null,"raw_input":"[{\"Key\":\"TIME_OUT\",\"Value\":\"10\"}]","comment":""}],"expanded":true,"id":"823a285a-d115-47ae-bfaf-02214810f6e6","display_text":null,"raw_input":"[{\"Key\":\"CONDITION\",\"Value\":\"hasElement(//span[text()='Launch'])\"}]","comment":null},{"$type":"GPMAutomateEditor.Models.IfBlockNode, GPMAutomateEditor.Models","nodes":[{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":5,"element_xpath":null,"output_variable_name":null,"delay":"0,0","id":"58b2fe15-beb2-4cbd-9c7a-a692f05f9303","display_text":null,"raw_input":null,"comment":null}],"expanded":true,"id":"5848df56-6a9b-4c37-82f3-6712ed245981","display_text":null,"raw_input":"[{\"Key\":\"CONDITION\",\"Value\":\"hasElement(//iframe[contains(@src,'https')])\"}]","comment":null},{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":7,"element_xpath":null,"output_variable_name":null,"delay":"0,0","id":"10a3b989-21c0-4ec9-896f-ced83f52c12c","display_text":null,"raw_input":"[{\"Key\":\"MIN\",\"Value\":\"2000\"},{\"Key\":\"MAX\",\"Value\":\"2100\"}]","comment":null}],"expanded":true,"id":"a8eaeab8-4b5b-4211-a38e-83535a8a158a","display_text":null,"raw_input":"[{\"Key\":\"START\",\"Value\":\"0\"},{\"Key\":\"END\",\"Value\":\"5\"},{\"Key\":\"INCREASE_BY\",\"Value\":\"1\"}]","comment":null}],"expanded":true,"id":"851d2ff4-a10d-470e-b0b4-aa7e9ff86b55","display_text":null,"raw_input":"[{\"Key\":\"CONDITION\",\"Value\":\"!hasElement(//iframe[@class=\\\"payment-verification\\\"])\"}]","comment":null}],"expanded":false,"id":"9366b2ec-edd0-45ce-8f33-054f9665d3d0","display_text":null,"raw_input":"[]","comment":"Ref logic"},{"$type":"GPMAutomateEditor.Models.NormalBlockNode, GPMAutomateEditor.Models","nodes":[{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":45,"element_xpath":"//iframe[@class=\"payment-verification\"]","output_variable_name":"src","delay":"0,0","id":"bb7a9a4a-a2b0-4d8e-a51c-6b4399260785","display_text":null,"raw_input":"[{\"Key\":\"ATTR_NAME\",\"Value\":\"src\"}]","comment":"Lấy src "},{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":68,"element_xpath":null,"output_variable_name":"querry_id","delay":"0,0","id":"d5888627-7826-4807-b93a-98c64e2fcb25","display_text":null,"raw_input":"[{\"Key\":\"FILE_OR_CODE\",\"Value\":\"const game = document.querySelector('iframe'); const src = game.getAttribute('src'); const startIndex = src.indexOf('#tgWebAppData=') + '#tgWebAppData='.length; const endIndex = src.indexOf('&', startIndex); const query_id = src.substring(startIndex, endIndex); return decodeURIComponent(query_id)\"}]","comment":"Lấy querry_id"}],"expanded":true,"id":"bd38cb0d-e8e5-4b86-abf5-b9d6665b6245","display_text":null,"raw_input":"[]","comment":"Get data"}],"expanded":true,"id":"137249e7-28b7-4e1a-808f-726490cecef6","display_text":null,"raw_input":null,"comment":"Main logic"},"after_quit":{"$type":"GPMAutomateEditor.Models.NormalBlockNode, GPMAutomateEditor.Models","nodes":[{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":74,"element_xpath":null,"output_variable_name":null,"delay":"0,0","id":"f791b1f9-8ad9-4ef5-b4e9-bf3d27b441d2","display_text":null,"raw_input":"[{\"Key\":\"FILE_PATH\",\"Value\":\"$filePath\\\\$fileName.xlsx\"}]","comment":"Tạo file excel"},{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":71,"element_xpath":null,"output_variable_name":null,"delay":"0,0","id":"2689676a-5a0b-4886-81e3-028be5c76196","display_text":null,"raw_input":"[{\"Key\":\"FILE_PATH\",\"Value\":\"$filePath\\\\$fileName.xlsx\"},{\"Key\":\"SHEET_ID\",\"Value\":\"0\"},{\"Key\":\"COL_NAME_OR_INDEX\",\"Value\":\"A\"},{\"Key\":\"DATA\",\"Value\":\"$profileName|$src|$querry_id\"}]","comment":"Ghi Data"}],"expanded":true,"id":"969250f6-ee99-4d0b-8561-c45c07dbef03","display_text":null,"raw_input":null,"comment":"After browser closed"}}