{"$type":"GPMAutomateEditor.Models.Editor, GPMAutomateEditor.Models","before_init":{"$type":"GPMAutomateEditor.Models.NormalBlockNode, GPMAutomateEditor.Models","nodes":[{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":1,"element_xpath":null,"output_variable_name":"luuy","delay":"0,0","id":"de1b8dfa-c3f0-4de7-804a-1e9dc29c5f88","display_text":null,"raw_input":"[{\"Key\":\"VALUE\",\"Value\":\"Lưu ý trước khi sử dụng ta cần làm các bước sau\"},{\"Key\":\"ALLOW_USER_INPUT\",\"Value\":\"True\"},{\"Key\":\"USER_INPUT_TYPE\",\"Value\":\"Text\"}]","comment":"Lưu ý trước khi sử dụng"},{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":1,"element_xpath":null,"output_variable_name":"","delay":"0,0","id":"30bdccfe-3142-4d77-9f90-dec4773aa206","display_text":null,"raw_input":"[{\"Key\":\"VALUE\",\"Value\":\"Bước 1: mở regedit.exe (window + R)\"},{\"Key\":\"ALLOW_USER_INPUT\",\"Value\":\"True\"},{\"Key\":\"USER_INPUT_TYPE\",\"Value\":\"Text\"}]","comment":"Bước 1: mở regedit.exe (window + R)"},{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":1,"element_xpath":null,"output_variable_name":null,"delay":"0,0","id":"430c66f4-c5b6-49e4-8f4f-061c432513b8","display_text":null,"raw_input":"[{\"Key\":\"VALUE\",\"Value\":\"Bước 2: trong regedit mở đường dẫn Computer\\\\HKEY_CLASSES_ROOT\\\\tg\"},{\"Key\":\"ALLOW_USER_INPUT\",\"Value\":\"True\"},{\"Key\":\"USER_INPUT_TYPE\",\"Value\":\"Text\"}]","comment":"Bước 2: trong regedit mở đường dẫn Computer\\HKEY_CLASSES_ROOT\\tg"},{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":1,"element_xpath":null,"output_variable_name":null,"delay":"0,0","id":"6fd892cb-f351-4906-96af-a441776992a3","display_text":null,"raw_input":"[{\"Key\":\"VALUE\",\"Value\":\"Bước 3: Ở phần bên phải thay \\\"URL Protocol\\\" thành \\\"URL Protocol1\\\" \"},{\"Key\":\"ALLOW_USER_INPUT\",\"Value\":\"True\"},{\"Key\":\"USER_INPUT_TYPE\",\"Value\":\"Text\"}]","comment":"Bước 3: Ở phần bên phải thay \"URL Protocol\" thành \"URL Protocol1\" "},{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":1,"element_xpath":null,"output_variable_name":"botLink","delay":"0,0","id":"12457073-4330-4e2e-8c08-0a402a31c6ac","display_text":null,"raw_input":"[{\"Key\":\"VALUE\",\"Value\":\"\"},{\"Key\":\"ALLOW_USER_INPUT\",\"Value\":\"True\"},{\"Key\":\"USER_INPUT_TYPE\",\"Value\":\"Text\"}]","comment":"Nhập bot link ref"},{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":1,"element_xpath":null,"output_variable_name":"fileName","delay":"0,0","id":"ffc551a2-ce69-4411-bbad-e59e99c26ae0","display_text":null,"raw_input":"[{\"Key\":\"VALUE\",\"Value\":\"\"},{\"Key\":\"ALLOW_USER_INPUT\",\"Value\":\"True\"},{\"Key\":\"USER_INPUT_TYPE\",\"Value\":\"Text\"}]","comment":"Nhập tên file data excel"},{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":1,"element_xpath":null,"output_variable_name":"delay_close","delay":"0,0","id":"eb82bdf1-c091-4124-8ed1-ebaebac1d089","display_text":null,"raw_input":"[{\"Key\":\"VALUE\",\"Value\":\"\"},{\"Key\":\"ALLOW_USER_INPUT\",\"Value\":\"True\"},{\"Key\":\"USER_INPUT_TYPE\",\"Value\":\"Text\"}]","comment":"Nhập số giây chờ đóng proflie để nhận ref"},{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":1,"element_xpath":null,"output_variable_name":"file_path","delay":"0,0","id":"5c614941-6878-43f0-a9d7-b9b1b3b104ff","display_text":null,"raw_input":"[{\"Key\":\"VALUE\",\"Value\":\"\"},{\"Key\":\"ALLOW_USER_INPUT\",\"Value\":\"True\"},{\"Key\":\"USER_INPUT_TYPE\",\"Value\":\"Text\"}]","comment":"Nhập đường dẫn thư mục lưu file"}],"expanded":true,"id":"5c8a2817-5dec-4071-8aec-3108f682a932","display_text":null,"raw_input":null,"comment":"Before browser opened"},"main_logic":{"$type":"GPMAutomateEditor.Models.NormalBlockNode, GPMAutomateEditor.Models","nodes":[{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":39,"element_xpath":null,"output_variable_name":null,"delay":"0,0","id":"557c036e-1659-4fd6-8f64-75b72c394070","display_text":null,"raw_input":"[{\"Key\":\"URL\",\"Value\":\"$botLink\"}]","comment":"Truy cập link ref"},{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":68,"element_xpath":null,"output_variable_name":"href","delay":"0,0","id":"9e8351a2-3ca2-4437-8ede-f5bb81e097bc","display_text":null,"raw_input":"[{\"Key\":\"FILE_OR_CODE\",\"Value\":\"function myFunction() {\\r\\n    // Sử dụng XPath để tìm phần tử với class chứa \\\"tgme_action_web_button\\\"\\r\\n    let element = document.evaluate('//a[contains(@class,\\\"tgme_action_web_button\\\")]', document, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null).singleNodeValue;\\r\\n\\r\\n    // Kiểm tra nếu phần tử tồn tại và lấy thuộc tính href\\r\\n    if (element) {\\r\\n        let href = element.getAttribute(\\\"href\\\");\\r\\n\\r\\n        // Kiểm tra nếu href chứa \\\"/a\\\" và thay thế bằng \\\"/k\\\"\\r\\n        if (href.includes(\\\"https://web.telegram.org/a/\\\")) {\\r\\n            href = href.replace(\\\"https://web.telegram.org/a/\\\", \\\"https://web.telegram.org/k/\\\");\\r\\n        }\\r\\n        console.log(\\\"Link mới:\\\", href);\\r\\n\\r\\n        // Mở đường link mới trong cửa sổ hiện tại\\r\\n        window.open(href, '_self');\\r\\n        return href;\\r\\n    } else {\\r\\n        console.log(\\\"Không tìm thấy phần tử\\\");\\r\\n        return null;\\r\\n    }\\r\\n}\\r\\n\\r\\n// Gọi hàm\\r\\nmyFunction();\"}]","comment":"chuyển link /a thành /k"},{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":44,"element_xpath":"//div[@class='popup popup-peer popup-confirmation active']","output_variable_name":null,"delay":"0,0","id":"6a72c239-611d-4bef-9424-de0f2b3d340a","display_text":null,"raw_input":"[{\"Key\":\"TIME_OUT\",\"Value\":\"30\"}]","comment":"Chờ load bot"},{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":48,"element_xpath":null,"output_variable_name":null,"delay":"0,0","id":"563134e2-7185-48ca-95c9-2ea019c7219d","display_text":null,"raw_input":"[{\"Key\":\"CLICK_TYPE\",\"Value\":\"CLICK_XPATH\"},{\"Key\":\"XPATH\",\"Value\":\"//div[contains(@class, 'popup popup-peer popup-confirmation active')]//button[contains(@class, 'popup-button btn primary')]\"},{\"Key\":\"POS\",\"Value\":\"\"}]","comment":"Click comfirm mở bot"},{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":7,"element_xpath":null,"output_variable_name":null,"delay":"0,0","id":"1debf96f-5efb-477f-930d-9bc8a3ccbcc1","display_text":null,"raw_input":"[{\"Key\":\"MIN\",\"Value\":\"1000\"},{\"Key\":\"MAX\",\"Value\":\"2000\"}]","comment":"Dừng chờ sau khi bấm mở bot"},{"$type":"GPMAutomateEditor.Models.IfBlockNode, GPMAutomateEditor.Models","nodes":[{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":48,"element_xpath":null,"output_variable_name":null,"delay":"0,0","id":"4d0148f1-0f88-43ec-a398-fc3dd5e48777","display_text":null,"raw_input":"[{\"Key\":\"CLICK_TYPE\",\"Value\":\"CLICK_XPATH\"},{\"Key\":\"XPATH\",\"Value\":\"//div[contains(@class, 'popup popup-peer popup-confirmation active')]//button[contains(@class, 'popup-button btn primary')]\"},{\"Key\":\"POS\",\"Value\":\"\"}]","comment":"Click confirm mở bot"}],"expanded":true,"id":"cf31d590-ccf5-400e-b81d-0a91cac8e8dd","display_text":null,"raw_input":"[{\"Key\":\"CONDITION\",\"Value\":\"hasElement(//div[@class='popup popup-peer popup-confirmation active'])\"}]","comment":"Kiểm tra xem mở bot được chưa"},{"$type":"GPMAutomateEditor.Models.ElseBlockNode, GPMAutomateEditor.Models","nodes":[{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":44,"element_xpath":"//iframe[@class=\"payment-verification\"]","output_variable_name":null,"delay":"0,0","id":"d2885e6c-dec0-4cac-8fc1-ba6bf9f639f4","display_text":null,"raw_input":"[{\"Key\":\"TIME_OUT\",\"Value\":\"20\"}]","comment":"Chờ iframe hiện lên"}],"expanded":true,"id":"a46ed072-4c9c-427c-a8b4-0d5ed2edbf1a","display_text":null,"raw_input":"[]","comment":"Nếu mở rồi thì chờ load iframe"},{"$type":"GPMAutomateEditor.Models.NormalBlockNode, GPMAutomateEditor.Models","nodes":[{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":45,"element_xpath":"//iframe[@class=\"payment-verification\"]","output_variable_name":"src","delay":"0,0","id":"6f558c85-2100-4126-a4e7-da9f6b7b059c","display_text":null,"raw_input":"[{\"Key\":\"ATTR_NAME\",\"Value\":\"src\"}]","comment":"Lấy src của iframe"}],"expanded":false,"id":"08615f11-de0e-4793-9727-ad2f6b69d83c","display_text":null,"raw_input":"[]","comment":"Lấy iframe"},{"$type":"GPMAutomateEditor.Models.NormalBlockNode, GPMAutomateEditor.Models","nodes":[{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":68,"element_xpath":null,"output_variable_name":"querry_id","delay":"0,0","id":"f4ea1c8d-9db0-4599-a6b6-d5825dec05c8","display_text":null,"raw_input":"[{\"Key\":\"FILE_OR_CODE\",\"Value\":\"const game = document.querySelector('iframe'); const src = game.getAttribute('src'); const startIndex = src.indexOf('#tgWebAppData=') + '#tgWebAppData='.length; const endIndex = src.indexOf('&', startIndex); const query_id = src.substring(startIndex, endIndex); return decodeURIComponent(query_id)\"}]","comment":"get querry_id"}],"expanded":false,"id":"9c73cf48-7df0-4454-9731-737d4972c1db","display_text":null,"raw_input":"[]","comment":"Xử lý decode lấy querry id"},{"$type":"GPMAutomateEditor.Models.IfBlockNode, GPMAutomateEditor.Models","nodes":[{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":62,"element_xpath":"//iframe[@class=\"payment-verification\"]","output_variable_name":null,"delay":"0,0","id":"6860c435-677e-4f70-b5f2-ce1dafae9c49","display_text":null,"raw_input":"[]","comment":"Chuyển sang click iframe"},{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":44,"element_xpath":"//div[text()='Create account']","output_variable_name":null,"delay":"0,0","id":"d197a40b-ad97-4811-b626-dcc14bd141ca","display_text":null,"raw_input":"[{\"Key\":\"TIME_OUT\",\"Value\":\"20\"}]","comment":"Chờ nút Create account"},{"$type":"GPMAutomateEditor.Models.IfBlockNode, GPMAutomateEditor.Models","nodes":[{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":48,"element_xpath":null,"output_variable_name":null,"delay":"0,0","id":"2c9e0e2e-b5a6-4254-93f1-6d18a42a27d4","display_text":null,"raw_input":"[{\"Key\":\"CLICK_TYPE\",\"Value\":\"CLICK_XPATH\"},{\"Key\":\"XPATH\",\"Value\":\"//div[text()='Create account']\"},{\"Key\":\"POS\",\"Value\":\"\"}]","comment":"Click Create account"},{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":7,"element_xpath":null,"output_variable_name":null,"delay":"0,0","id":"cba4b1d3-1be1-445a-9b3d-9b414dc1fba8","display_text":null,"raw_input":"[{\"Key\":\"MIN\",\"Value\":\"2000\"},{\"Key\":\"MAX\",\"Value\":\"2100\"}]","comment":"Chờ"}],"expanded":true,"id":"93dddd5a-bce5-462a-ab39-53534b7bcc1a","display_text":null,"raw_input":"[{\"Key\":\"CONDITION\",\"Value\":\"hasElement(//div[text()='Create account'])\"}]","comment":"Xem có hiện nút \"Create account\" ở matchain"},{"$type":"GPMAutomateEditor.Models.IfBlockNode, GPMAutomateEditor.Models","nodes":[{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":48,"element_xpath":null,"output_variable_name":null,"delay":"0,0","id":"7515f1d6-ee3d-4dd6-8096-f7d15621f253","display_text":null,"raw_input":"[{\"Key\":\"CLICK_TYPE\",\"Value\":\"CLICK_XPATH\"},{\"Key\":\"XPATH\",\"Value\":\"//div[text()='Continue']\"},{\"Key\":\"POS\",\"Value\":\"\"}]","comment":"Click Continue"},{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":7,"element_xpath":null,"output_variable_name":null,"delay":"0,0","id":"bf826940-d534-4311-824f-b06894a0f8a7","display_text":null,"raw_input":"[{\"Key\":\"MIN\",\"Value\":\"2000\"},{\"Key\":\"MAX\",\"Value\":\"2100\"}]","comment":"Chờ"}],"expanded":true,"id":"7924a710-0ca7-4dc1-a941-e5a867617ae1","display_text":null,"raw_input":"[{\"Key\":\"CONDITION\",\"Value\":\"hasElement(//div[text()='Continue'])\"}]","comment":"Xem có hiện nút \"Continue\" ở matchain"}],"expanded":true,"id":"73e941ff-1543-4897-b1c9-98c97790f57c","display_text":null,"raw_input":"[{\"Key\":\"CONDITION\",\"Value\":\"$luuy === \\\"match\\\"\"}]","comment":"Matchain"},{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":7,"element_xpath":null,"output_variable_name":null,"delay":"0,0","id":"b4e48e7e-8bb5-4106-a598-d8081d835ecb","display_text":null,"raw_input":"[{\"Key\":\"MIN\",\"Value\":\"$delay_close\"},{\"Key\":\"MAX\",\"Value\":\"$delay_close\"}]","comment":"Chờ đóng app "}],"expanded":true,"id":"b7466e1c-746b-4899-a78b-525672b9ef60","display_text":null,"raw_input":null,"comment":"Main logic"},"after_quit":{"$type":"GPMAutomateEditor.Models.NormalBlockNode, GPMAutomateEditor.Models","nodes":[{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":74,"element_xpath":null,"output_variable_name":null,"delay":"0,0","id":"ab0c7fd6-c25f-4a6a-9c11-28e5065426e5","display_text":null,"raw_input":"[{\"Key\":\"FILE_PATH\",\"Value\":\"$file_path\\\\$fileName.xlsx\"}]","comment":"Tạo file excel"},{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":71,"element_xpath":null,"output_variable_name":null,"delay":"0,0","id":"d2b66e64-fd3b-4c9f-b693-c3e61a645ed5","display_text":null,"raw_input":"[{\"Key\":\"FILE_PATH\",\"Value\":\"$file_path\\\\$fileName.xlsx\"},{\"Key\":\"SHEET_ID\",\"Value\":\"0\"},{\"Key\":\"COL_NAME_OR_INDEX\",\"Value\":\"A\"},{\"Key\":\"DATA\",\"Value\":\"$profileName\"}]","comment":"Ghi profile name"},{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":71,"element_xpath":null,"output_variable_name":null,"delay":"0,0","id":"3d96da5b-7fe6-4dff-b776-a740a02df215","display_text":null,"raw_input":"[{\"Key\":\"FILE_PATH\",\"Value\":\"$file_path\\\\$fileName.xlsx\"},{\"Key\":\"SHEET_ID\",\"Value\":\"0\"},{\"Key\":\"COL_NAME_OR_INDEX\",\"Value\":\"B\"},{\"Key\":\"DATA\",\"Value\":\"$src\"}]","comment":"Ghi src app"},{"$type":"GPMAutomateEditor.Models.ActionNode, GPMAutomateEditor.Models","type":71,"element_xpath":null,"output_variable_name":null,"delay":"0,0","id":"7ec0f091-3305-469c-bdb9-42505e907fca","display_text":null,"raw_input":"[{\"Key\":\"FILE_PATH\",\"Value\":\"$file_path\\\\$fileName.xlsx\"},{\"Key\":\"SHEET_ID\",\"Value\":\"0\"},{\"Key\":\"COL_NAME_OR_INDEX\",\"Value\":\"C\"},{\"Key\":\"DATA\",\"Value\":\"$querry_id\"}]","comment":"Ghi querry_id"}],"expanded":true,"id":"f5937fe9-cccf-452f-92f9-1cf513ee60e2","display_text":null,"raw_input":null,"comment":"After browser closed"}}